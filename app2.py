import streamlit as st

# í˜ì´ì§€ ì„¤ì • (ê°€ì¥ ë¨¼ì € í˜¸ì¶œë˜ì–´ì•¼ í•¨)
st.set_page_config(
    page_title="ì–´ë“œë°´ìŠ¤ë“œ ë¸Œëœë”© ì»¨ì„¤í„´íŠ¸",
    page_icon="âœ¨",
    layout="centered",
    initial_sidebar_state="auto",
)

def advanced_branding_consultant():
    """
    ì „ë¬¸ì ì¸ ë‚´ìš©ì„ ëª¨ë‘ í¬í•¨í•œ v2.0 ë¸Œëœë”© ì»¨ì„¤íŒ… í”„ë¡œê·¸ë¨
    """
    # session_state ì´ˆê¸°í™”
    if 'answers' not in st.session_state:
        st.session_state.answers = {}

    st.title("ğŸš€ ì–´ë“œë°´ìŠ¤ë“œ í¼ìŠ¤ë„ ë¸Œëœë”© ì»¨ì„¤í„´íŠ¸ v2.0")
    st.write("ë‹¹ì‹ ì˜ ì ì¬ë ¥ì„ ëŒì–´ë‚´ì–´ ì‚¬ëŒë“¤ì˜ ë§ˆìŒì„ ì›€ì§ì´ëŠ” ê°•ë ¥í•œ ë¸Œëœë“œë¥¼ êµ¬ì¶•í•©ë‹ˆë‹¤.")
    st.markdown("---")

    # --- Phase 1: ìê¸° íƒìƒ‰ ë° í•µì‹¬ ê°€ì¹˜ ë°œê²¬ ---
    with st.expander("âœ… Phase 1: ìê¸° íƒìƒ‰ (Self-Discovery)", expanded=True):
        st.subheader("ë‚˜ì˜ ë³¸ì§ˆê³¼ í•µì‹¬ ê°€ì¹˜ ì°¾ê¸°")
        st.session_state.answers['passion'] = st.text_input("Q. ì‹œê°„ ê°€ëŠ” ì¤„ ëª¨ë¥´ê³  ì´ì•¼ê¸°í•  ìˆ˜ ìˆëŠ” 'ì—´ì •'ì˜ ì£¼ì œëŠ” ë¬´ì—‡ì¸ê°€ìš”?")
        st.session_state.answers['expertise'] = st.text_input("Q. ë‹¤ë¥¸ ì‚¬ëŒë“¤ì—ê²Œ 'ì´ê²ƒë§Œí¼ì€ ìì‹  ìˆë‹¤'ê³  ë§í•  ìˆ˜ ìˆëŠ” 'ì „ë¬¸ì„±' ë˜ëŠ” 'ê²½í—˜'ì€ ë¬´ì—‡ì¸ê°€ìš”?")
        st.session_state.answers['value'] = st.text_input("Q. ì‚´ë©´ì„œ ê°€ì¥ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ëŠ” í•µì‹¬ 'ê°€ì¹˜' 3ê°€ì§€ëŠ” ë¬´ì—‡ì¸ê°€ìš”? (ì˜ˆ: ì„±ì¥, ììœ , ì•ˆì •, ì •ì§, ì¦ê±°ì›€)")

    # --- Phase 2: íƒ€ê²Ÿ ê³ ê°(í˜ë¥´ì†Œë‚˜) ì‹¬ì¸µ ë¶„ì„ ---
    with st.expander("ğŸ¯ Phase 2: íƒ€ê²Ÿ ê³ ê° ì‹¬ì¸µ ë¶„ì„ (Audience Deep Dive)"):
        st.subheader("ëˆ„êµ¬ì˜ ë§ˆìŒì„ ì–»ê³  ì‹¶ì€ê°€ìš”?")
        st.info("Tip: 'ëª¨ë‘'ë¥¼ ìœ„í•œ ì½˜í…ì¸ ëŠ” 'ì•„ë¬´ë„'ë¥¼ ìœ„í•œ ì½˜í…ì¸ ê°€ ì•„ë‹™ë‹ˆë‹¤. ë‹¨ í•œ ì‚¬ëŒì„ êµ¬ì²´ì ìœ¼ë¡œ ê·¸ë ¤ë³´ì„¸ìš”.")
        st.session_state.answers['target_avatar'] = st.text_area("Q. ë‹¹ì‹ ì˜ ì´ìƒì ì¸ ê³ ê° 'ì•„ë°”íƒ€'ë¥¼ í•œ ëª… ê·¸ë ¤ë³¸ë‹¤ë©´ ì–´ë–¤ ì‚¬ëŒì¸ê°€ìš”? (ë‚˜ì´, ì§ì—…, ì„±ê²© ë“±)")
        st.session_state.answers['target_pain'] = st.text_area("Q. ê·¸ ì‚¬ëŒì´ ë°¤ì— ì  ëª» ì´ë£¨ê²Œ í•˜ëŠ” ê°€ì¥ í° 'ê³ ë¯¼(Pain Point)'ì€ ë¬´ì—‡ì¸ê°€ìš”?")
        st.session_state.answers['target_gain'] = st.text_area("Q. ê·¸ ì‚¬ëŒì´ ë§ˆìŒì† ê¹Šì´ ë°”ë¼ëŠ” ê¶ê·¹ì ì¸ 'ìš•ë§(Gain Point)'ì€ ë¬´ì—‡ì¸ê°€ìš”?")

    # --- Phase 3: ë¸Œëœë“œ ì •ì²´ì„± ë° ê°œì„±(ì›í˜•) ìˆ˜ë¦½ ---
    with st.expander("ğŸ­ Phase 3: ë¸Œëœë“œ ì •ì²´ì„± ë° ê°œì„± ìˆ˜ë¦½ (Brand Identity & Archetype)"):
        st.subheader("ë‹¹ì‹ ì˜ ë¸Œëœë“œì— ì¸ê²©ê³¼ ëª©ì†Œë¦¬ ì…íˆê¸°")
        st.session_state.answers['brand_mission'] = st.text_input("Q. ë‹¹ì‹ ì´ ê³ ê°ì˜ 'ê³ ë¯¼'ì„ í•´ê²°í•´ì£¼ê³  'ìš•ë§'ì„ ì±„ì›Œì£¼ê¸° ìœ„í•´ ì¡´ì¬í•˜ëŠ” ì´ìœ , ì¦‰ 'ë¸Œëœë“œ ë¯¸ì…˜'ì„ í•œ ë¬¸ì¥ìœ¼ë¡œ ì •ì˜í•œë‹¤ë©´?")
        
        # ë¸Œëœë“œ ì›í˜•(Archetype) ì„ íƒ
        archetypes = {
            "ì„ íƒ ì•ˆí•¨": "ë¸Œëœë“œì˜ ì„±ê²©ì„ ì •ì˜í•©ë‹ˆë‹¤.",
            "The Sage (í˜„ì)": "ì§€í˜œ, ì§„ì‹¤, ì „ë¬¸ì„±ìœ¼ë¡œ ì‚¬ëŒë“¤ì„ ì•ˆë‚´í•©ë‹ˆë‹¤. (ì˜ˆ: ì „ë¬¸ê°€, ë¶„ì„ê°€)",
            "The Innocent (ìˆœìˆ˜ì£¼ì˜ì)": "ìˆœìˆ˜, ê¸ì •, í–‰ë³µì„ ì¶”êµ¬í•˜ë©° ì•ˆì „í•¨ì„ ì¤ë‹ˆë‹¤. (ì˜ˆ: ì˜¤ê°€ë‹‰ ë¸Œëœë“œ, ì•„ë™ ë¸Œëœë“œ)",
            "The Explorer (íƒí—˜ê°€)": "ììœ , íƒí—˜, ë°œê²¬ì„ í†µí•´ ìƒˆë¡œìš´ ê¸¸ì„ ì œì‹œí•©ë‹ˆë‹¤. (ì˜ˆ: ì•„ì›ƒë„ì–´, ì—¬í–‰ í¬ë¦¬ì—ì´í„°)",
            "The Hero (ì˜ì›…)": "ìš©ê¸°, ê·¹ë³µ, êµ¬ì›ì„ í†µí•´ ì„¸ìƒì— ê¸ì •ì  ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤. (ì˜ˆ: ìŠ¤í¬ì¸  ë¸Œëœë“œ, ì‚¬íšŒì  ê¸°ì—…)",
            "The Creator (ì°½ì¡°ì)": "ì°½ì˜ì„±, í˜ì‹ , ì˜ˆìˆ ë¡œ ìƒˆë¡œìš´ ê²ƒì„ ë§Œë“­ë‹ˆë‹¤. (ì˜ˆ: ë””ìì´ë„ˆ, ì•„í‹°ìŠ¤íŠ¸, ì‘ê°€)",
            "The Ruler (ì§€ë°°ì)": "í†µì œ, ë¦¬ë”ì‹­, ê¶Œìœ„ë¥¼ í†µí•´ ìµœê³ ê°€ ë˜ëŠ” ê¸¸ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. (ì˜ˆ: ëª…í’ˆ, ê³ ê¸‰ ìë™ì°¨, CEO)",
            "The Magician (ë§ˆë²•ì‚¬)": "ë¹„ì „, ë³€í™”, ì‹ ë¹„ë¥¼ í†µí•´ ê¿ˆì„ í˜„ì‹¤ë¡œ ë§Œë“­ë‹ˆë‹¤. (ì˜ˆ: í˜ì‹  ê¸°ìˆ , ë·°í‹° ë¸Œëœë“œ)",
            "The Everyman (ë³´í†µ ì‚¬ëŒ)": "ê³µê°, í˜„ì‹¤, ì†Œë°•í•¨ìœ¼ë¡œ ì¹œê·¼í•˜ê²Œ ë‹¤ê°€ê°‘ë‹ˆë‹¤. (ì˜ˆ: ìƒí™œìš©í’ˆ, ì»¤ë®¤ë‹ˆí‹° ë¦¬ë”)",
            "The Lover (ì—°ì¸)": "ì‚¬ë‘, ê´€ê³„, ê°ì„±ì„ í†µí•´ ì¹œë°€í•œ ìœ ëŒ€ê°ì„ í˜•ì„±í•©ë‹ˆë‹¤. (ì˜ˆ: í–¥ìˆ˜, ì£¼ì–¼ë¦¬, ì»¤í”Œ ì½”ì¹˜)",
            "The Jester (ê´‘ëŒ€)": "ìœ ë¨¸, ì¦ê±°ì›€, ê¸ì •ìœ¼ë¡œ í˜„ì¬ë¥¼ ì¦ê¸°ê²Œ í•©ë‹ˆë‹¤. (ì˜ˆ: ìŠ¤ë‚µ, ì—”í„°í…Œì¸ë¨¼íŠ¸)",
            "The Caregiver (ì¡°ë ¥ì)": "ë³´í˜¸, ë´‰ì‚¬, ì´íƒ€ì‹¬ìœ¼ë¡œ íƒ€ì¸ì„ ë•ê³  ì§€ì§€í•©ë‹ˆë‹¤. (ì˜ˆ: ë³‘ì›, ë¹„ì˜ë¦¬ë‹¨ì²´, ì½”ì¹˜)",
            "The Outlaw (ë¬´ë²•ì)": "í˜ëª…, íŒŒê´´, ììœ ë¥¼ í†µí•´ ê¸°ì¡´ì˜ í‹€ì„ ê¹¹ë‹ˆë‹¤. (ì˜ˆ: ë°”ì´í¬, ìŠ¤íŠ¸ë¦¿ íŒ¨ì…˜)"
        }
        selected_archetype = st.selectbox(
            "Q. ë‹¹ì‹ ì˜ ë¸Œëœë“œ 'ì„±ê²©(Archetype)'ì€ ë¬´ì—‡ì— ê°€ì¥ ê°€ê¹ë‚˜ìš”?",
            options=list(archetypes.keys()),
            format_func=lambda x: f"{x} - {archetypes[x]}"
        )
        st.session_state.answers['brand_archetype'] = selected_archetype

        st.session_state.answers['brand_keywords'] = st.text_input("Q. ë‹¹ì‹ ì˜ ë¸Œëœë“œë¥¼ ê²€ìƒ‰í•  ë•Œ ì‚¬ìš©ë  'í•µì‹¬ í‚¤ì›Œë“œ' 5ê°€ì§€ëŠ” ë¬´ì—‡ì¸ê°€ìš”? (í•´ì‹œíƒœê·¸, ê²€ìƒ‰ ìµœì í™”ìš©)")
        st.session_state.answers['visual_concept'] = st.text_area("Q. ë‹¹ì‹ ì˜ ë¸Œëœë“œ 'ì‹œê°ì  ì»¨ì…‰'ì„ êµ¬ì²´ì ìœ¼ë¡œ ë¬˜ì‚¬í•´ì£¼ì„¸ìš”. (ë©”ì¸ ì»¬ëŸ¬, ì„œë¸Œ ì»¬ëŸ¬, ë¶„ìœ„ê¸°, ì‚¬ì§„ í†¤, í°íŠ¸ ë“±)")

    # --- Phase 4: ì½˜í…ì¸  ë° ì‹¤í–‰ ì „ëµ ê³ ë„í™” ---
    with st.expander("ğŸ’¡ Phase 4: ì½˜í…ì¸  ë° ì‹¤í–‰ ì „ëµ ê³ ë„í™” (Content & Action Strategy)"):
        st.subheader("ê³ ê°ì˜ ë§ˆìŒì„ ì‚¬ë¡œì¡ì„ ì½˜í…ì¸  ì„¤ê³„í•˜ê¸°")
        st.session_state.answers['pillar1'] = st.text_input("Q. ê³ ê°ì˜ ë¬¸ì œë¥¼ í•´ê²°í•´ ì¤„ ì²« ë²ˆì§¸ 'ì½˜í…ì¸  ê¸°ë‘¥(Pillar)'ì€ ë¬´ì—‡ì¸ê°€ìš”? (ì˜ˆ: ì •ë³´/êµìœ¡)")
        st.session_state.answers['pillar2'] = st.text_input("Q. ê³ ê°ê³¼ ê³µê°ëŒ€ë¥¼ í˜•ì„±í•  ë‘ ë²ˆì§¸ 'ì½˜í…ì¸  ê¸°ë‘¥(Pillar)'ì€ ë¬´ì—‡ì¸ê°€ìš”? (ì˜ˆ: ìŠ¤í† ë¦¬/ê²½í—˜)")
        st.session_state.answers['pillar3'] = st.text_input("Q. ê³ ê°ì˜ ì°¸ì—¬ë¥¼ ìœ ë„í•  ì„¸ ë²ˆì§¸ 'ì½˜í…ì¸  ê¸°ë‘¥(Pillar)'ì€ ë¬´ì—‡ì¸ê°€ìš”? (ì˜ˆ: ì†Œí†µ/ì»¤ë®¤ë‹ˆí‹°)")
        
        st.markdown("---")
        st.session_state.answers['content_format'] = st.multiselect(
            "Q. ìœ„ ë‚´ìš©ì„ ì–´ë–¤ 'ì½˜í…ì¸  í¬ë§·'ìœ¼ë¡œ ì£¼ë¡œ ì „ë‹¬í•˜ê³  ì‹¶ë‚˜ìš”?",
            ['ë¦´ìŠ¤ (ìƒˆë¡œìš´ ì ì¬ê³ ê° ë„ë‹¬)', 'ì¹´ë“œë‰´ìŠ¤ (ì •ë³´ì˜ ì²´ê³„ì  ì „ë‹¬)', 'ì‚¬ì§„+ê¸€ (ì§„ì†”í•œ ìŠ¤í† ë¦¬ ì „ë‹¬)', 'ìŠ¤í† ë¦¬ (ì¼ìƒì  ì†Œí†µ ë° ê´€ê³„ í˜•ì„±)', 'ë¼ì´ë¸Œ (ì‹¤ì‹œê°„ ì§ˆì˜ì‘ë‹µ ë° ê¹Šì€ ì†Œí†µ)']
        )
        st.session_state.answers['cta'] = st.text_input("Q. íŒ”ë¡œì›Œê°€ ë‹¹ì‹ ì˜ ì½˜í…ì¸ ë¥¼ ë³´ê³  ì–´ë–¤ 'í–‰ë™(Call to Action)'ì„ í•˜ê¸¸ ë°”ë¼ë‚˜ìš”? (ì˜ˆ: ì €ì¥í•˜ê¸°, ëŒ“ê¸€ ë‚¨ê¸°ê¸°, í”„ë¡œí•„ ë§í¬ í´ë¦­)")

    # --- Phase 5: ìµœì¢… ëª©í‘œ ì„¤ì • ---
    with st.expander("ğŸ† Phase 5: ìµœì¢… ëª©í‘œ ì„¤ì • (Ultimate Goal)"):
        st.subheader("ë¸Œëœë”© ì—¬ì •ì˜ ëª©ì ì§€ ì„¤ì •í•˜ê¸°")
        st.session_state.answers['ultimate_goal'] = st.selectbox(
            "Q. ì´ ë¸Œëœë”©ì„ í†µí•´ ê¶ê·¹ì ìœ¼ë¡œ ì´ë£¨ê³  ì‹¶ì€ 'ëª©í‘œ'ëŠ” ë¬´ì—‡ì¸ê°€ìš”?",
            ['ì„ íƒ ì•ˆí•¨', 'ì˜¨ë¼ì¸ ìƒí’ˆ/ì„œë¹„ìŠ¤ íŒë§¤', 'ì˜¤í”„ë¼ì¸ ê°•ì˜/ì»¨ì„¤íŒ…', 'ì œíœ´/ê´‘ê³  ìˆ˜ìµ ì°½ì¶œ', 'íŒ¬ ê¸°ë°˜ ì»¤ë®¤ë‹ˆí‹° êµ¬ì¶•', 'ê°œì¸ì˜ ì˜í–¥ë ¥(ì±… ì¶œê°„ ë“±) í™•ëŒ€']
        )
        
    st.markdown("---")

    # --- ìµœì¢… ë¦¬í¬íŠ¸ ìƒì„± ---
    if st.button("ğŸ‰ ìµœì¢… ë¸Œëœë”© ì „ëµ ë¦¬í¬íŠ¸ ìƒì„±í•˜ê¸°", type="primary"):
        # ëª¨ë“  ë‹µë³€ì´ ì…ë ¥ë˜ì—ˆëŠ”ì§€ ê°„ë‹¨íˆ í™•ì¸
        if not all(st.session_state.answers.values()):
            st.error("â— ëª¨ë“  ì§ˆë¬¸ì— ë‹µë³€ì„ ì…ë ¥í•´ì£¼ì„¸ìš”. ë¦¬í¬íŠ¸ë¥¼ ìƒì„±í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
        else:
            st.balloons()
            st.header("âœ¨ ë‹¹ì‹ ë§Œì˜ í¼ìŠ¤ë„ ë¸Œëœë”© ì „ëµ ë¦¬í¬íŠ¸ âœ¨")

            # 1. ë¸Œëœë“œ í•µì‹¬ ìš”ì•½
            st.subheader("1. ë‚˜ì˜ ë¸Œëœë“œ í•œëˆˆì— ë³´ê¸°")
            st.success(f"**\"{st.session_state.answers['brand_mission']}\"** ë¼ëŠ” ë¯¸ì…˜ì„ ê°€ì§„, **{st.session_state.answers['brand_archetype']}** ìœ í˜•ì˜ ë¸Œëœë“œì…ë‹ˆë‹¤.")
            st.markdown(f"* **ë‚˜ì˜ ì—´ì •:** {st.session_state.answers['passion']}")
            st.markdown(f"* **ë‚˜ì˜ ì „ë¬¸ì„±:** {st.session_state.answers['expertise']}")
            st.markdown(f"* **ë‚˜ì˜ í•µì‹¬ ê°€ì¹˜:** {st.session_state.answers['value']}")

            # 2. íƒ€ê²Ÿ ê³ ê° í˜ë¥´ì†Œë‚˜
            st.subheader("2. ë‚˜ì˜ í•µì‹¬ íƒ€ê²Ÿ ê³ ê° (í˜ë¥´ì†Œë‚˜)")
            st.markdown(f"**ì•„ë°”íƒ€:** {st.session_state.answers['target_avatar']}")
            st.markdown(f"**ê°€ì¥ í° ê³ ë¯¼:** {st.session_state.answers['target_pain']}")
            st.markdown(f"**ê¶ê·¹ì  ìš•ë§:** {st.session_state.answers['target_gain']}")
            st.info("ğŸ’¡ Tip: ì´ ì‚¬ëŒì˜ 'ê³ ë¯¼'ì„ í•´ê²°í•˜ê³  'ìš•ë§'ì„ ì±„ì›Œì£¼ëŠ” ì½˜í…ì¸ ì— ì§‘ì¤‘í•˜ì„¸ìš”.")

            # 3. ì¸ìŠ¤íƒ€ê·¸ë¨ í”„ë¡œí•„ ìµœì í™”ì•ˆ
            st.subheader("3. ì¸ìŠ¤íƒ€ê·¸ë¨ í”„ë¡œí•„ ìµœì í™” ì œì•ˆ")
            st.markdown("**BIO (í•œ ì¤„ ì†Œê°œ)**")
            st.code(f"{st.session_state.answers['brand_mission']}\në¬¸ì˜ëŠ” DM | {st.session_state.answers['ultimate_goal']} ì¤€ë¹„ ì¤‘", language='text')
            st.markdown("**í•µì‹¬ í‚¤ì›Œë“œ/í•´ì‹œíƒœê·¸**")
            st.code(st.session_state.answers['brand_keywords'], language='text')
            st.markdown("**ì‹œê°ì  ì»¨ì…‰**")
            st.markdown(f"> {st.session_state.answers['visual_concept']}")
            
            # 4. ì½˜í…ì¸  ì „ëµ
            st.subheader("4. ì‹¬ì¸µ ì½˜í…ì¸  ì „ëµ")
            st.markdown(f"**ì½˜í…ì¸  ê¸°ë‘¥ 1 (ì •ë³´/êµìœ¡):** {st.session_state.answers['pillar1']}")
            st.markdown(f"**ì½˜í…ì¸  ê¸°ë‘¥ 2 (ìŠ¤í† ë¦¬/ê³µê°ëŒ€):** {st.session_state.answers['pillar2']}")
            st.markdown(f"**ì½˜í…ì¸  ê¸°ë‘¥ 3 (ì†Œí†µ/ì»¤ë®¤ë‹ˆí‹°):** {st.session_state.answers['pillar3']}")
            st.markdown(f"**ì£¼ìš” í¬ë§·:** {', '.join(st.session_state.answers['content_format'])}")
            st.markdown(f"**í•µì‹¬ í–‰ë™ ìœ ë„(CTA):** ëª¨ë“  ì½˜í…ì¸ ëŠ” íŒ”ë¡œì›Œê°€ **'{st.session_state.answers['cta']}'** í•˜ë„ë¡ ìœ ë„í•©ë‹ˆë‹¤.")
            
            st.success(f"ì´ ëª¨ë“  í™œë™ì€ ìµœì¢… ëª©í‘œì¸ **'{st.session_state.answers['ultimate_goal']}'** ë‹¬ì„±ì„ í–¥í•´ ì •ë ¬ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ì´ ë¦¬í¬íŠ¸ë¥¼ ë°”íƒ•ìœ¼ë¡œ ê¾¸ì¤€íˆ ì‹¤í–‰í•˜ë©° ë‹¹ì‹ ë§Œì˜ ê°•ë ¥í•œ ë¸Œëœë“œë¥¼ ë§Œë“¤ì–´ê°€ì„¸ìš”!")


if __name__ == "__main__":
    advanced_branding_consultant()